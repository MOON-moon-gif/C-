#include <ncurses.h>

// 爱心的绘制函数
void draw_heart(int x, int y, int scale) {
    int i, j;
    int heart[规模][规模] = {
        {0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 1, 1, 1, 0, 0},
        {0, 0, 0, 1, 2, 2, 2, 1, 0},
        {0, 0, 1, 2, 2, 2, 2, 2, 1},
        {0, 1, 2, 2, 2, 2, 2, 2, 2},
        {1, 2, 2, 2, 2, 2, 2, 2, 2},
        {2, 2, 2, 2, 2, 2, 2, 2, 2},
        {2, 2, 2, 2, 2, 2, 2, 2, 2},
        {2, 2, 2, 2, 2, 2, 2, 2, 2},
        {1, 2, 2, 2, 2, 2, 2, 2, 2},
        {0, 1, 2, 2, 2, 2, 2, 2, 1},
        {0, 0, 1, 2, 2, 2, 2, 1, 0},
        {0, 0, 0, 1, 2, 2, 1, 0, 0},
        {0, 0, 0, 0, 1, 1, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0}
    };

    for (i = 0; i < scale; i++) {
        for (j = 0; j < scale; j++) {
            if (heart[i][j]) {
                mvaddch(y + i, x + j, ' ');
            }
        }
    }
}

int main() {
    initscr(); // 初始化屏幕
    curs_set(0); // 隐藏光标
    noecho(); // 不显示输入的字符
    cbreak(); // 禁用行缓冲

    int ch, x = 20, y = 10, scale = 5;
    while ((ch = getch()) != 'q') {
        clear(); // 清除屏幕
        draw_heart(x, y, scale); // 绘制爱心
        refresh(); // 刷新屏幕
        scale++; // 改变爱心大小
        if (scale > 10) {
            scale = 5;
        }
        usleep(500000); // 等待100毫秒
    }

    endwin(); // 结束屏幕
    return 0;
}
